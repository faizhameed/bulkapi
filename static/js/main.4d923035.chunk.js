(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{53:function(e,t,a){e.exports=a(84)},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(12),c=a.n(s),r=(a(58),a(27)),i=(a(59),a(20)),o=a(21),m=a(24),d=a(22),u=a(15),h=a(23),E=a(86),v=a(87),p=a(88);a(60);var b=function(e){return l.a.createElement("div",null,l.a.createElement(p.a,{style:{width:"100%"}},l.a.createElement(p.a.Body,null,l.a.createElement("div",{className:"totalContainer"},l.a.createElement("div",{className:"detailContainer"},l.a.createElement("h4",{className:"rtitle"},"First Name"),l.a.createElement("h5",{className:"rvalue"},":  ",e.data["First Name"])),l.a.createElement("div",{className:"detailContainer"},l.a.createElement("h4",{className:"rtitle"},"Last Name"),l.a.createElement("h5",{className:"rvalue"},": ",e.data["Last Name"])),l.a.createElement("div",{className:"detailContainer"},l.a.createElement("h4",{className:"rtitle"},"ID"),l.a.createElement("h5",{className:"rvalue"},": ",e.data.ID)),l.a.createElement("div",{className:"detailContainer"},l.a.createElement("h4",{className:"rtitle"},"Email"),l.a.createElement("h5",{className:"rvalue"},": ",e.data.Email)),l.a.createElement("div",{className:"detailContainer"},l.a.createElement("h4",{className:"rtitle"},"Country"),l.a.createElement("h5",{className:"rvalue"},": ",e.data.Country)),l.a.createElement("div",{className:"detailContainer"},l.a.createElement("h4",{className:"rtitle"},"Mobile"),l.a.createElement("h5",{className:"rvalue"},": ",e.data.Mobile))))))},f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleShow=function(){a.setState({show:!0})},a.handleHide=function(){a.setState({show:!1})},a._isMounted=!1,a.state={datas:[],more_leads:!0,show:!1,currentPage:1,rowsPerPage:10,clickedData:{"First Name":"","Last Name":"",Email:"",ID:"",Country:"",Mobile:""}},a.handleNext=a.handleNext.bind(Object(u.a)(a)),a.handlePrevious=a.handlePrevious.bind(Object(u.a)(a)),a.handleShow=a.handleShow.bind(Object(u.a)(a)),a.handleShow=a.handleShow.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleNext",value:function(){if(this.state.more_leads){var e=this.state.currentPage;e++,console.log("NExt page clicked",e),this.setState({currentPage:e})}else{document.getElementById("next").classList.add("disabled")}}},{key:"handlePrevious",value:function(){var e=this.state.currentPage;if(e>1)e--,console.log("page",e),this.setState({currentPage:e});else if(1===e||e<1){console.log("we are her"),document.getElementById("previous").classList.add("disabled")}}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=this.state,a=t.datas,n=t.rowsPerPage,l=t.currentPage;console.log("page",l);var s="https://test190.cfstech.xyz/lead/retrieval/?page=".concat(l,"&record_size=").concat(n),c=new Headers({"Content-Type":"application/json","API-KEY":this.props.apiID});a.length&&1===l&&document.getElementById("previous").classList.add("disabled");var r=new Request(s,{method:"GET",headers:c});fetch(r).then(function(e){return e.json()}).then(function(t){console.log(t.response),e._isMounted&&e.setState({datas:t.response,more_leads:t.is_more_leads_available})})}},{key:"componentDidUpdate",value:function(){var e=this;this._isMounted=!0;var t=this.state,a=t.datas,n=t.rowsPerPage,l=t.currentPage,s="https://test190.cfstech.xyz/lead/retrieval/?page=".concat(l,"&record_size=").concat(n),c=new Headers({"Content-Type":"application/json",Accept:"application/json","API-KEY":this.props.apiID}),r=new Request(s,{method:"GET",headers:c});fetch(r).then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({datas:t.response,more_leads:t.is_more_leads_available})});var i=document.getElementById("previous");if(a.length)if(1===l){document.getElementById("previous").classList.add("disabled")}else i.classList.remove("disabled")}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleDetails",value:function(e){console.log(e["First Name"]),this.setState({clickedData:e,show:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.clickedData,n=t.datas;return n.length?l.a.createElement("div",null,l.a.createElement(E.a,{striped:!0,bordered:!0,hover:!0,size:"sm",id:"myTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"First Name"),l.a.createElement("th",null,"Lead Source"),l.a.createElement("th",null,"Email"))),l.a.createElement("tbody",null,n.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.ID),l.a.createElement("td",{onClick:function(){return e.handleDetails(t)},className:"name",value:JSON.stringify(t)},t["First Name"]),l.a.createElement("td",null,t["Lead Source"]),l.a.createElement("td",null,t.Email))}))),l.a.createElement("button",{className:"btn",variant:"secondary",id:"previous",onClick:this.handlePrevious},"Previous"),l.a.createElement("button",{className:"btn",variant:"secondary",id:"next",onClick:this.handleNext},"Next"),l.a.createElement("button",{className:"btn",variant:"primary",onClick:this.handleShow},"Last Checked"),l.a.createElement(v.a,{size:"lg",show:this.state.show,onHide:this.handleHide,dialogClassName:"modal-90w","aria-labelledby":"example-modal-sizes-title-lg"},l.a.createElement(v.a.Header,{closeButton:!0},l.a.createElement(v.a.Title,{id:"example-modal-sizes-title-lg"},l.a.createElement("h2",null,"Personal Details"))),l.a.createElement(v.a.Body,null,l.a.createElement(b,{data:a,handleHide:this.handleHide})),l.a.createElement(v.a.Footer,null,l.a.createElement("button",{className:"btn",variant:"secondary",onClick:this.handleHide},"Back")))):l.a.createElement("h2",null,"Loading...")}}]),t}(n.Component),g=a(26),N=a(13),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).componentDidUpdate=function(){console.log("from heel",a.props.apiID)},a.state={name:"faiz"},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement("h1",null,"Welcome"))}}]),t}(n.Component),w=(a(82),function(e){Object(n.useEffect)(function(){console.log("apiID from login.js",e.apiID)});return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"clogin"},l.a.createElement("h2",null,"LOGIN"),l.a.createElement("input",{type:"password",id:"api",placeholder:"API KEY..."}),l.a.createElement("button",{className:"btn",onClick:function(){return function(){var t=document.getElementById("api");e.setLogin(t.value)}()}},"Enter"),e.login?l.a.createElement("div",null,l.a.createElement("h1",null,"Login:",e.login),l.a.createElement(f,null)):l.a.createElement("div",{className:"mbox"},l.a.createElement("h3",null,e.message))))}),j=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),i=Object(r.a)(c,2),o=i[0],m=i[1],d=Object(n.useState)("1619552c-e09f-4ffc-b8c7-931f5cd104b5"),u=Object(r.a)(d,1)[0];return Object(n.useEffect)(function(){console.log("apiID",u)}),o?l.a.createElement(g.a,null,l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"Bulk Lead \u200b Retrieval \u200b API"),l.a.createElement("button",{className:"btn"},l.a.createElement(g.b,{className:"link",to:"/"}," Home ")),l.a.createElement("button",{className:"btn"},l.a.createElement(g.b,{className:"link",to:"/fetch"}," Fetch ")),l.a.createElement(N.c,null,l.a.createElement(N.a,{exact:!0,path:"/",render:function(e){return l.a.createElement(y,Object.assign({},e,{message:a,setMessage:s,apiID:u}))}}),l.a.createElement(N.a,{path:"/fetch",render:function(e){return l.a.createElement(f,Object.assign({},e,{apiID:u}))}})))):l.a.createElement(w,{apiID:u,message:a,login:o,setLogin:function(e){e===u?(m(1),s("Success")):s("Wrong API")}})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[53,1,2]]]);
//# sourceMappingURL=main.4d923035.chunk.js.map